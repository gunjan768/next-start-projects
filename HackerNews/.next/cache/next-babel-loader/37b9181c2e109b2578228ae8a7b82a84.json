{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Practice\\\\Web\\\\Next\\\\HackerNews\\\\pages\\\\story.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n// import fetch from \"isomorphic-fetch\";\nimport Error from \"next/error\";\nimport Layout from \"../components/Layout\";\nimport CommentList from \"../components/CommentList\";\n\nvar Story = /*#__PURE__*/function (_React$Component) {\n  _inherits(Story, _React$Component);\n\n  var _super = _createSuper(Story);\n\n  function Story() {\n    _classCallCheck(this, Story);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Story, [{\n    key: \"render\",\n    value: function render() {\n      var story = this.props.story;\n\n      if (!story) {\n        return __jsx(Error, {\n          statusCode: 503,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 11\n          }\n        });\n      }\n\n      return __jsx(Layout, {\n        title: story.title,\n        backButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 4\n        }\n      }, __jsx(\"main\", {\n        className: \"jsx-2558603553\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 5\n        }\n      }, __jsx(\"h1\", {\n        className: \"jsx-2558603553\" + \" \" + \"story-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 6\n        }\n      }, __jsx(\"a\", {\n        href: story.url,\n        className: \"jsx-2558603553\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, story.title)), __jsx(\"div\", {\n        className: \"jsx-2558603553\" + \" \" + \"story-details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }\n      }, __jsx(\"strong\", {\n        className: \"jsx-2558603553\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }\n      }, story.points, \" points\"), __jsx(\"strong\", {\n        className: \"jsx-2558603553\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }\n      }, story.comments_count, \" comments\"), __jsx(\"strong\", {\n        className: \"jsx-2558603553\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, story.time_ago)), story.comments.length ? __jsx(CommentList, {\n        comments: story.comments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 32\n        }\n      }) : __jsx(\"div\", {\n        className: \"jsx-2558603553\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 80\n        }\n      }, \"No comments for this story\")), __jsx(_JSXStyle, {\n        id: \"2558603553\",\n        __self: this\n      }, \"main.jsx-2558603553{padding:1em;}.story-title.jsx-2558603553{font-size:1.2rem;margin:0;font-weight:300;padding-bottom:0.5em;}.story-title.jsx-2558603553 a.jsx-2558603553{color:#333;-webkit-text-decoration:none;text-decoration:none;}.story-title.jsx-2558603553 a.jsx-2558603553:hover{-webkit-text-decoration:underline;text-decoration:underline;}.story-details.jsx-2558603553{font-size:0.8rem;padding-bottom:1em;border-bottom:1px solid rgba(0,0,0,0.1);margin-bottom:1em;}.story-details.jsx-2558603553 strong.jsx-2558603553{margin-right:1em;}.story-details.jsx-2558603553 a.jsx-2558603553{color:#f60;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxQcmFjdGljZVxcV2ViXFxOZXh0XFxIYWNrZXJOZXdzXFxwYWdlc1xcc3RvcnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0RnQixBQUdtQixBQUdLLEFBTU4sQUFJZSxBQUdULEFBTUEsQUFHTixXQWZVLEFBZ0J0QixDQXpCQSxLQUdVLEFBYVUsQUFNcEIsU0FsQmlCLFVBYTJCLE1BWnRCLGtCQVF0QixDQUhBLEVBSkEsYUFZbUIsa0JBQ25CIiwiZmlsZSI6IkQ6XFxQcmFjdGljZVxcV2ViXFxOZXh0XFxIYWNrZXJOZXdzXFxwYWdlc1xcc3RvcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtZmV0Y2hcIjtcbmltcG9ydCBFcnJvciBmcm9tIFwibmV4dC9lcnJvclwiO1xuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcbmltcG9ydCBDb21tZW50TGlzdCBmcm9tIFwiLi4vY29tcG9uZW50cy9Db21tZW50TGlzdFwiO1xuXG5jbGFzcyBTdG9yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCBcbntcblx0c3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyh7IHJlcSwgcmVzLCBxdWVyeSB9KSBcblx0e1xuXHRcdGxldCBzdG9yeTtcblxuXHRcdHRyeSBcblx0XHR7XG5cdFx0XHRjb25zdCBzdG9yeUlkID0gcXVlcnkuaWQ7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL25vZGUtaG5hcGkuaGVyb2t1YXBwLmNvbS9pdGVtLyR7c3RvcnlJZH1gKTtcblxuXHRcdFx0c3RvcnkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0fSBcblx0XHRjYXRjaChlcnJvcikgXG5cdFx0e1xuXHRcdFx0Ly8gY29uc29sZS5sb2coZXJyKTtcblx0XHRcdFxuXHRcdFx0c3RvcnkgPSBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN0b3J5IH07XG5cdH1cblxuXHRyZW5kZXIoKSBcblx0e1xuXHRcdGNvbnN0IHsgc3RvcnkgfSA9IHRoaXMucHJvcHM7XG5cblx0XHRpZighc3RvcnkpIFxuXHRcdHtcblx0XHRcdHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZSA9IHsgNTAzIH0gLz47XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxMYXlvdXQgdGl0bGUgPSB7IHN0b3J5LnRpdGxlIH0gYmFja0J1dHRvbj0geyB0cnVlIH0+XG5cdFx0XHRcdDxtYWluPlxuXHRcdFx0XHRcdDxoMSBjbGFzc05hbWU9XCJzdG9yeS10aXRsZVwiPlxuXHRcdFx0XHRcdFx0PGEgaHJlZiA9IHsgc3RvcnkudXJsIH0+e3N0b3J5LnRpdGxlfTwvYT5cblx0XHRcdFx0XHQ8L2gxPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwic3RvcnktZGV0YWlsc1wiPlxuXHRcdFx0XHRcdFx0PHN0cm9uZz57c3RvcnkucG9pbnRzfSBwb2ludHM8L3N0cm9uZz5cblx0XHRcdFx0XHRcdDxzdHJvbmc+e3N0b3J5LmNvbW1lbnRzX2NvdW50fSBjb21tZW50czwvc3Ryb25nPlxuXHRcdFx0XHRcdFx0PHN0cm9uZz57c3RvcnkudGltZV9hZ299PC9zdHJvbmc+XG5cdFx0XHRcdFx0PC9kaXY+XG5cblx0XHRcdFx0XHR7IHN0b3J5LmNvbW1lbnRzLmxlbmd0aCA/IDxDb21tZW50TGlzdCBjb21tZW50cyA9IHsgc3RvcnkuY29tbWVudHMgfSAvPiA6IDxkaXY+Tm8gY29tbWVudHMgZm9yIHRoaXMgc3Rvcnk8L2Rpdj4gfVxuXHRcdFx0XHQ8L21haW4+XG5cblx0XHRcdFx0PHN0eWxlIGpzeD57YFxuXHRcdFx0XHRcdG1haW4ge1xuXHRcdFx0XHRcdFx0cGFkZGluZzogMWVtO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuc3RvcnktdGl0bGUge1xuXHRcdFx0XHRcdFx0Zm9udC1zaXplOiAxLjJyZW07XG5cdFx0XHRcdFx0XHRtYXJnaW46IDA7XG5cdFx0XHRcdFx0XHRmb250LXdlaWdodDogMzAwO1xuXHRcdFx0XHRcdFx0cGFkZGluZy1ib3R0b206IDAuNWVtO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuc3RvcnktdGl0bGUgYSB7XG5cdFx0XHRcdFx0XHRjb2xvcjogIzMzMztcblx0XHRcdFx0XHRcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LnN0b3J5LXRpdGxlIGE6aG92ZXIge1xuXHRcdFx0XHRcdFx0dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5zdG9yeS1kZXRhaWxzIHtcblx0XHRcdFx0XHRcdGZvbnQtc2l6ZTogMC44cmVtO1xuXHRcdFx0XHRcdFx0cGFkZGluZy1ib3R0b206IDFlbTtcblx0XHRcdFx0XHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMSk7XG5cdFx0XHRcdFx0XHRtYXJnaW4tYm90dG9tOiAxZW07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5zdG9yeS1kZXRhaWxzIHN0cm9uZyB7XG5cdFx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IDFlbTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LnN0b3J5LWRldGFpbHMgYSB7XG5cdFx0XHRcdFx0XHRjb2xvcjogI2Y2MDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdGB9PC9zdHlsZT5cblx0XHRcdDwvTGF5b3V0PlxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3Rvcnk7Il19 */\\n/*@ sourceURL=D:\\\\\\\\Practice\\\\\\\\Web\\\\\\\\Next\\\\\\\\HackerNews\\\\\\\\pages\\\\\\\\story.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n        var req, res, query, story, storyId, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req, res = _ref.res, query = _ref.query;\n                _context.prev = 1;\n                storyId = query.id;\n                _context.next = 5;\n                return fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(storyId));\n\n              case 5:\n                response = _context.sent;\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                story = _context.sent;\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](1);\n                // console.log(err);\n                story = null;\n\n              case 14:\n                return _context.abrupt(\"return\", {\n                  story: story\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 11]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Story;\n}(React.Component);\n\nexport default Story;","map":{"version":3,"sources":["D:/Practice/Web/Next/HackerNews/pages/story.js"],"names":["Error","Layout","CommentList","Story","story","props","title","url","points","comments_count","time_ago","comments","length","req","res","query","storyId","id","fetch","response","json","React","Component"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,YAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;IAEMC,K;;;;;;;;;;;;;6BAwBL;AAAA,UACSC,KADT,GACmB,KAAKC,KADxB,CACSD,KADT;;AAGC,UAAG,CAACA,KAAJ,EACA;AACC,eAAO,MAAC,KAAD;AAAO,UAAA,UAAU,EAAK,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACA;;AAED,aACC,MAAC,MAAD;AAAQ,QAAA,KAAK,EAAKA,KAAK,CAACE,KAAxB;AAAgC,QAAA,UAAU,EAAI,IAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA,4CAAc,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAG,QAAA,IAAI,EAAKF,KAAK,CAACG,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyBH,KAAK,CAACE,KAA/B,CADD,CADD,EAIC;AAAA,4CAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASF,KAAK,CAACI,MAAf,YADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASJ,KAAK,CAACK,cAAf,cAFD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASL,KAAK,CAACM,QAAf,CAHD,CAJD,EAUGN,KAAK,CAACO,QAAN,CAAeC,MAAf,GAAwB,MAAC,WAAD;AAAa,QAAA,QAAQ,EAAKR,KAAK,CAACO,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxB,GAAwE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAV3E,CADD;AAAA;AAAA;AAAA,m/HADD;AA+CA;;;;;;;;;;AA7E8BE,gBAAAA,G,QAAAA,G,EAAKC,G,QAAAA,G,EAAKC,K,QAAAA,K;;AAMjCC,gBAAAA,O,GAAUD,KAAK,CAACE,E;;uBACCC,KAAK,iDAA0CF,OAA1C,E;;;AAAtBG,gBAAAA,Q;;uBAEQA,QAAQ,CAACC,IAAT,E;;;AAAdhB,gBAAAA,K;;;;;;;AAIA;AAEAA,gBAAAA,KAAK,GAAG,IAAR;;;iDAGM;AAAEA,kBAAAA,KAAK,EAALA;AAAF,iB;;;;;;;;;;;;;;;;;;;EApBWiB,KAAK,CAACC,S;;AAkF1B,eAAenB,KAAf","sourcesContent":["// import fetch from \"isomorphic-fetch\";\nimport Error from \"next/error\";\nimport Layout from \"../components/Layout\";\nimport CommentList from \"../components/CommentList\";\n\nclass Story extends React.Component \n{\n\tstatic async getInitialProps({ req, res, query }) \n\t{\n\t\tlet story;\n\n\t\ttry \n\t\t{\n\t\t\tconst storyId = query.id;\n\t\t\tconst response = await fetch(`https://node-hnapi.herokuapp.com/item/${storyId}`);\n\n\t\t\tstory = await response.json();\n\t\t} \n\t\tcatch(error) \n\t\t{\n\t\t\t// console.log(err);\n\t\t\t\n\t\t\tstory = null;\n\t\t}\n\n\t\treturn { story };\n\t}\n\n\trender() \n\t{\n\t\tconst { story } = this.props;\n\n\t\tif(!story) \n\t\t{\n\t\t\treturn <Error statusCode = { 503 } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<Layout title = { story.title } backButton= { true }>\n\t\t\t\t<main>\n\t\t\t\t\t<h1 className=\"story-title\">\n\t\t\t\t\t\t<a href = { story.url }>{story.title}</a>\n\t\t\t\t\t</h1>\n\t\t\t\t\t<div className=\"story-details\">\n\t\t\t\t\t\t<strong>{story.points} points</strong>\n\t\t\t\t\t\t<strong>{story.comments_count} comments</strong>\n\t\t\t\t\t\t<strong>{story.time_ago}</strong>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ story.comments.length ? <CommentList comments = { story.comments } /> : <div>No comments for this story</div> }\n\t\t\t\t</main>\n\n\t\t\t\t<style jsx>{`\n\t\t\t\t\tmain {\n\t\t\t\t\t\tpadding: 1em;\n\t\t\t\t\t}\n\t\t\t\t\t.story-title {\n\t\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tfont-weight: 300;\n\t\t\t\t\t\tpadding-bottom: 0.5em;\n\t\t\t\t\t}\n\t\t\t\t\t.story-title a {\n\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t}\n\t\t\t\t\t.story-title a:hover {\n\t\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t\t}\n\t\t\t\t\t.story-details {\n\t\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\t\tpadding-bottom: 1em;\n\t\t\t\t\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\n\t\t\t\t\t\tmargin-bottom: 1em;\n\t\t\t\t\t}\n\t\t\t\t\t.story-details strong {\n\t\t\t\t\t\tmargin-right: 1em;\n\t\t\t\t\t}\n\t\t\t\t\t.story-details a {\n\t\t\t\t\t\tcolor: #f60;\n\t\t\t\t\t}\n\t\t\t\t`}</style>\n\t\t\t</Layout>\n\t\t);\n\t}\n}\n\nexport default Story;"]},"metadata":{},"sourceType":"module"}