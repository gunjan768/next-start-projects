{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { loginUser } from \"../lib/auth\";\nimport Router from \"next/router\";\n\nvar LoginForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  var _super = _createSuper(LoginForm);\n\n  function LoginForm() {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      email: \"Rey.Padberg@karina.biz\",\n      password: \"ambrose.net\",\n      error: \"\",\n      isLoading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (event) {\n      event.preventDefault();\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      _this.setState({\n        error: \"\",\n        isLoading: true\n      });\n\n      loginUser(email, password).then(function () {\n        return Router.push(\"/profile\");\n      })[\"catch\"](_this.showError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showError\", function (err) {\n      // console.error(error);\n      var error = err.response && err.response.data || err.message;\n\n      _this.setState({\n        error: error,\n        isLoading: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error,\n          isLoading = _this$state2.isLoading;\n      return __jsx(\"form\", {\n        onSubmit: this.handleSubmit\n      }, __jsx(\"div\", null, __jsx(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"email\",\n        value: email,\n        onChange: this.handleChange\n      })), __jsx(\"div\", null, __jsx(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password\",\n        value: password,\n        onChange: this.handleChange\n      })), __jsx(\"button\", {\n        disabled: isLoading,\n        type: \"submit\"\n      }, isLoading ? \"Sending\" : \"Submit\"), error && __jsx(\"div\", null, error));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["D:/Practice/Web/Next/UserAuthentication/components/LoginForm.js"],"names":["loginUser","Router","LoginForm","email","password","error","isLoading","event","setState","target","name","value","preventDefault","state","then","push","showError","err","response","data","message","handleSubmit","handleChange","React","Component"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,aAAnB;;IAEMC,S;;;;;;;;;;;;;;;;4DAGL;AACCC,MAAAA,KAAK,EAAE,wBADR;AAECC,MAAAA,QAAQ,EAAE,aAFX;AAGCC,MAAAA,KAAK,EAAE,EAHR;AAICC,MAAAA,SAAS,EAAE;AAJZ,K;;mEAOe,UAAAC,KAAK,EACpB;AACC,YAAKC,QAAL,qBAAiBD,KAAK,CAACE,MAAN,CAAaC,IAA9B,EAAqCH,KAAK,CAACE,MAAN,CAAaE,KAAlD;AACA,K;;mEAEc,UAAAJ,KAAK,EACpB;AACCA,MAAAA,KAAK,CAACK,cAAN;AADD,wBAG6B,MAAKC,KAHlC;AAAA,UAGSV,KAHT,eAGSA,KAHT;AAAA,UAGgBC,QAHhB,eAGgBA,QAHhB;;AAIC,YAAKI,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAE,EAAT;AAAaC,QAAAA,SAAS,EAAE;AAAxB,OAAd;;AAEAN,MAAAA,SAAS,CAACG,KAAD,EAAQC,QAAR,CAAT,CACCU,IADD,CACM;AAAA,eAAMb,MAAM,CAACc,IAAP,CAAY,UAAZ,CAAN;AAAA,OADN,WAEO,MAAKC,SAFZ;AAGA,K;;gEAEW,UAAAC,GAAG,EACf;AACC;AAEA,UAAMZ,KAAK,GAAIY,GAAG,CAACC,QAAJ,IAAgBD,GAAG,CAACC,QAAJ,CAAaC,IAA9B,IAAuCF,GAAG,CAACG,OAAzD;;AAEA,YAAKZ,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAALA,KAAF;AAASC,QAAAA,SAAS,EAAE;AAApB,OAAd;AACA,K;;;;;;;6BAGD;AAAA,yBAC+C,KAAKO,KADpD;AAAA,UACSV,KADT,gBACSA,KADT;AAAA,UACgBC,QADhB,gBACgBA,QADhB;AAAA,UAC0BC,KAD1B,gBAC0BA,KAD1B;AAAA,UACiCC,SADjC,gBACiCA,SADjC;AAGC,aACC;AAAM,QAAA,QAAQ,EAAK,KAAKe;AAAxB,SACC,mBACC;AACC,QAAA,IAAI,EAAC,OADN;AAEC,QAAA,IAAI,EAAC,OAFN;AAGC,QAAA,WAAW,EAAC,OAHb;AAIC,QAAA,KAAK,EAAKlB,KAJX;AAKC,QAAA,QAAQ,EAAK,KAAKmB;AALnB,QADD,CADD,EAUC,mBACC;AACC,QAAA,IAAI,EAAC,UADN;AAEC,QAAA,IAAI,EAAC,UAFN;AAGC,QAAA,WAAW,EAAC,UAHb;AAIC,QAAA,KAAK,EAAKlB,QAJX;AAKC,QAAA,QAAQ,EAAK,KAAKkB;AALnB,QADD,CAVD,EAmBC;AAAQ,QAAA,QAAQ,EAAKhB,SAArB;AAAiC,QAAA,IAAI,EAAC;AAAtC,SACGA,SAAS,GAAG,SAAH,GAAe,QAD3B,CAnBD,EAsBGD,KAAK,IAAI,mBAAMA,KAAN,CAtBZ,CADD;AA0BA;;;;EAlEsBkB,KAAK,CAACC,S;;AAqE9B,eAAetB,SAAf","sourcesContent":["import { loginUser } from \"../lib/auth\";\nimport Router from \"next/router\";\n\nclass LoginForm extends React.Component \n{\n\tstate = \n\t{\n\t\temail: \"Rey.Padberg@karina.biz\",\n\t\tpassword: \"ambrose.net\",\n\t\terror: \"\",\n\t\tisLoading: false\n\t};\n\n\thandleChange = event => \n\t{\n\t\tthis.setState({ [event.target.name]: event.target.value });\n\t}\n\n\thandleSubmit = event => \n\t{\n\t\tevent.preventDefault();\n\n\t\tconst { email, password } = this.state;\n\t\tthis.setState({ error: \"\", isLoading: true });\n\n\t\tloginUser(email, password)\n\t\t.then(() => Router.push(\"/profile\"))\n\t\t.catch(this.showError);\n\t}\n\n\tshowError = err => \n\t{\n\t\t// console.error(error);\n\t\t\n\t\tconst error = (err.response && err.response.data) || err.message;\n\n\t\tthis.setState({ error, isLoading: false });\n\t}\n\n\trender() \n\t{\n\t\tconst { email, password, error, isLoading } = this.state;\n\n\t\treturn (\n\t\t\t<form onSubmit = { this.handleSubmit }>\n\t\t\t\t<div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"email\"\n\t\t\t\t\t\tvalue = { email }\n\t\t\t\t\t\tonChange = { this.handleChange }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\t\tvalue = { password }\n\t\t\t\t\t\tonChange = { this.handleChange }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button disabled = { isLoading } type=\"submit\">\n\t\t\t\t\t{ isLoading ? \"Sending\" : \"Submit\" }\n\t\t\t\t</button>\n\t\t\t\t{ error && <div>{error}</div> }\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}